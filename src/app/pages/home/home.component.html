
<div class="home-body" TaswiraTheme>
  <app-toolbar (click)="open_popup = false" (reloadPage)="reloadPage($event)"></app-toolbar>
  <app-popup [PinID]="IdForpopup" [image_url]="image_url" (closePopup)="closeMorePopup($event)" *ngIf="open_popup"></app-popup>  
  <div class="connection-error" *ngIf="connection_failed">
    <h1 >Oops connection failed!</h1>
  </div>
  <div class="waiting" *ngIf="loading">
    <app-spinner *ngIf="loading"></app-spinner>
    <h1>Loading interests on Home feed!</h1>
  </div>
  <div class="home-container" *ngIf="!connection_failed">
    
    <div class="pins-hero">
      <div class="pins">
        <div class="pin-box"  *ngFor="let pin of pins_list">
          <!--  [style.height.px]="calculateHeight(pin.d_height, pin.d_width, 180)" -->           
         
            <div class="image-box" [attr.D_height]="pin.d_height" [attr.D_width]="pin.d_width" Dimensions >
              <div class="wave" [ngClass]="newImageClassName"></div>            
              <button class="icons save"(click)="savePostToMyProfile(pin.id)" [disabled]="pin.saved">
                {{pin.saved? 'saved': 'save'}}
              </button>
              
              <button class="icons upload">
                <mat-icon>share</mat-icon>
              </button>
              <button class="icons more">
                <mat-icon>more_horiz</mat-icon>
              </button>  
  
              <img  
                class="lazy-waiting"  
                
                (click)="navigateToCheckout(pin.id)"
                
                (load)="imageLoaded()"

                [ngClass]="newImageClassName"
                
                                

                [attr.source]="pin.image"
              

              
               PinIntersection>
              </div>     
    
            <div class="pin-owner-description"  [ngClass]="newImageClassName" >
              <div class="description">
                <small>{{pin.description}}</small>
              </div>
              <div class="phone-more" (click)="openPopupMenu(pin.id, pin.image)" >
                <mat-icon>more_horiz</mat-icon>
            </div> 
            
          </div>       

      </div>

      
      </div>
      
    </div>

  </div>
  
</div>